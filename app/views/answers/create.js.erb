<% if @answer.errors.present? %>
  $('.create-answer-form .answer-errors').html('<%= render 'shared/errors', resource: @answer %>');

  $('.form-control').removeClass('error');

  <% @answer.errors.each do |error| %>
    $('#new-answer-form #answer_<%= error.attribute %>').addClass('error');
  <% end %>
<% end%>

<% if @answer.persisted? %>
  $('.create-answer-form .answer-errors').html('')
  $('.create-answer-area').removeClass('error');
  $('.no-answers').remove();
  $('.answers').append('<%= j render @answer %>');
  $('.answer-new #answer_body').val('');

  addAlert('Answer has been created successfully.', 'success');
<% end %>
